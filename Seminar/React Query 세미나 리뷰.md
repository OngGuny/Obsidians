현재 프로젝트에 사용하면서 장점이 두드러졌다.

recoil , 리덕트 같은 상태관리api 들을 섞어서 사용중이라 관리에 어려움이있었는데

이걸 사용하면 전역적 컨텍스트 관리가 따로필요없다...??? 장점 다시..



사용방법
- useQuery 를 통해 캐시에 저장 
- invalidateQuery 를 통해 캐시 강제 refresh 
  -> 원래는 cud 로 다른 컴포넌트에서 데이터를 들고와야했따. 
  이걸 다른 컴포넌트에 저장하지 않고 ReactQuery 전역상태에 저장해서 관리하는것. 

- 저장하기 전에 조건식을 걸 수도 있다. 
- 이건 쿼리끼리도 연결을 가능하게 만든다. 
- 종속성을 넣을 수도 있다.  ( 없으면 일반 마운트될떄 실행. )

사용처 : 
검색, 할때 사용중. 

컴포넌트 내의 state 로   검색어들을 관리함. 
이 검색어들을 종속성으로 넣어뒀다. 
이게 변경될때 (종속시켜놓음) useQuery 가 실행되게 해 놓았다. 




캐시 타임
가비지 컬렉터 기능을한다. 
unmount 되었을때 , 메모리에 남아있는 녀석을 일정시간지나면 없에주는것.  메모리관리기능


setQuery? 
이벤트 데이터를 반영해주기 위해 
캐시된 값을 바꿀 때 사용.  
직접 수정.  



질문: useQuery 에 종속성을 설정 해 두면 
key 가 같은 useQuery 인데 그 값이 바뀌는지? 
fresh 한 데이터인데도?? 
서버에 재요청을 하게 되어 있다. 
이 키의 값이 재요청이 된다고..?  
=> 새로운 키가 생겨서  다른 값이 캐싱된다. 


리코일과의 차이점? 
쿼리는 서버에서 받는, 잘 바뀌는  데이터들을 관리할때 용이. 
즉 cud 작업 외의 경우에는 일반 전역상태관리 api 가 용이. recoil 등 
